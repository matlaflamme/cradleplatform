<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0095)https://opencoursehub.cs.sfu.ca/bfraser/grav-cms/cmpt373/2019-7/links/files/CodeStyleGuide.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Java Coding Standard</title>
<!--<link    rel="stylesheet" href="look.css" type="text/css" />-->
    <style type="text/css">
    <!--
        pre.code{
        background: #ffffE6;
        color: black;
        margin-left: 25px;
        margin-right: 300px;
        /* margin-top: -10px; */
        border-width: 10px;
        border-style: solid;
        border-color: #ffffe6;

        font-family: monospace;
        }
        
        p{
        margin-bottom: 0px;
        margin-top: 10px;
        }
		
		span.k{
		color: blue;
		}
		
		span.c{
		color: darkgreen;
		}
    -->
    </style> 
    </head>
<body>
<h1>Dr. Fraser's Java Coding Standard</h1>

<h2>Clean &amp; Simple Code</h2>
<!--
<p>
Readable code is the #1 priority: favour simple &amp; clean code over complex code. Don't worry about optomizing it by hand because the compiler can do a much better job than we can. If you can code it simply in 5 lines, or demonstrate your perverse-genious in 1 line, choose the simple approach!
</p>
-->
<p>Which option are you?</p>
<pre class="code"><span class="c">// Option 1:</span>
<span class="k">final</span> String HIGHEST_PRIORITY = "clean code";
System.out.println("My priority: " + HIGHEST_PRIORITY + ".");

<span class="c">// Option 2:</span>
<span class="k">char</span>[]w="\0rd0ct33lri".toCharArray();
<span class="k">for</span>(<span class="k">int</span> x=0xA;w[x]&gt;0;System.out.print(w[x--]));</pre>

<p>It is always best to write simple, clear code that is easy to understand, debug and maintain.</p>


<h2>Use Meaningful Names</h2>
<p>All identifiers must have meaningful, human-readable, English names. Avoid cryptic abbreviations such as "dspl()", "cntStd()", or "stdRegYYYYMMDD". Instead use:</p>

<pre class="code"><span class="k">void</span> display();
<span class="k">int</span> countStudents();
Date dateStudentRegistered;</pre>

<p>Exception 1: loop variables may be i, j or k. However, prefer the for-each loop when possible.</p>
<pre class="code"><span class="k">for</span> (<span class="k">int</span> i = 0; i &lt; 10; i++) {
    ...
}</pre>
<p>Exception 2: variables with very limited scope (&lt;20 lines) may be shortened if the purpose of the variable is clear. </p>
<pre class="code"><span class="k">void</span> swapCars(Person person1, Person person2) 
{
    Car tmp = person1.getCar();
    person1.setCar(person2.getCar());
    person2.setCar(tmp);
}</pre>



<h2>Naming Conventions</h2>
<p>Constants must be all upper case, with multiple words separated by '_':</p>
<pre class="code"><span class="k">final int</span> DAYS_PER_WEEK = 7;</pre>
<p>Functions must start with a lower case letter, and use CamelCase. Functions should be named in terms of an action:</p>
<pre class="code"><span class="k">double</span> calculateTax();
<span class="k">boolean</span> verifyInput();</pre>

<p>Class names must start with an upper case letter, and use CamelCase. Classes should be named in terms of a singular noun:</p>
<pre class="code"><span class="k">class</span> Student;
<span class="k">class</span> VeryLargeCar;</pre>

<p>Constant should have the most restrictive scope possible. For example, if it is used in only one class, then define the constant as private to that class. If a constant is needed in multiple classes, make it public.</p>

<p>Generally favour local variables over "more global" variables such as class fields. In almost all languages, global variables are terrible!</p>

<p>Do not use prefixes for variables: don't encode the type (like iSomeNumber, or strName), do not prefix member variables of a class have with m_.</p>
<pre class="code"><span class="k">class</span> Car {
    <span class="k">private</span> String make;
    <span class="k">private int</span> serialNumber;
    ...
}</pre>

<p>Boolean variables should be named so that they make sense in an if statement:</p>
<pre class="code"><span class="k">if</span> (isOpen) {
    ...
}
<span class="k">while</span> (!isEndOfFile &amp;&amp; hasMoreData()) {
    ...
}
</pre>

<p>Use named constants instead of literal numbers (magic numbers). It is often acceptable to use 0 and 1; however, it must be clear what they mean:</p>
<pre class="code"><span class="c">// OK:</span>
<span class="k">int</span> i = 0;
i = i + 1;

<span class="c">// Bad: What are 0 and 1 for?!?</span>
someFunction(x, 0, 1);</pre>




<h2>Indentation and Braces {...}</h2>
<p>There's <strong>always</strong> time for <strong>perfect indentation</strong>.</p>
<p>Tab size is 4; indentation size is 4. Use tabs to indent code.</p>
<pre class="code"><span class="k">if</span> (j &lt; 10) {
→   counter = getStudentCount(lowIndex,
→   →   highIndex);
→   <span class="k">if</span> (x == 0) {
→   →   <span class="k">if</span> (y != 0) {
→   →   →   x = y;→   →   <span class="c">// Insightful comment here</span>
→   →   }
→   }
}</pre>

<p>Opening brace is at the end of the enclosing statement; closing brace is on its own line, lined up with the start of the opening enclosing statement. Statements inside the block are indented one tab.</p>
<pre class="code"><span class="k">for</span> (<span class="k">int</span> i = 0; i &lt; 10; i++) {
→   ...
}

<span class="k">while</span> (i &gt; 0) {
→   ...
}

<span class="k">do</span> {
→   ...
} <span class="k">while</span> (x &gt; 1);

<span class="k">if</span> (y &gt; 500) {
→   ...
} <span class="k">else if</span> (y == 0) {
→   ...
} <span class="k">else</span> {
→   ...
}</pre>
    
<p>Exception: <em>If</em> statements with multi-line conditions have the starting brace aligned on the left to make it easier to spot the block in the <em>if</em> statement.</p>
<pre class="code"><span class="k">if</span> (someBigBooleanExpression
→   &amp;&amp; !someOtherExpression)
{
→   ...
}</pre>
    
<p>All <em>if</em> statements and loops should include braces around their statements, even if there is only one statement in the body:</p>
<pre class="code"><span class="k">if</span> (a &lt; 1) {
    a = 1;
} <span class="k">else</span> {
    a *= 2;
}
<span class="k">while</span> (count &gt; 0) {
    count--;
}</pre>


<h2>Statements and Spacing</h2>

<p>Declare each variable in its own definition, rather than together ("int i, j").</p>
<pre class="code"><span class="k">int</span> *p1;
<span class="k">int</span> p2;</pre>
<p></p>
    
<p>Each statement should be on its own line:</p>
<pre class="code"><span class="c">// Good:</span>
i = j + k;
l = m * 2;

<span class="c">// Bad (what are you hiding?):</span>
<span class="k">if</span> (i == j) l = m * 2;
    cout &lt;&lt; "Can ya read this?" &lt;&lt; endl;</pre>

<p>All binary (2 argument) operators (arithmetic, bitwise and assignment) and ternary conditionals (?:) must be surrounded by one space. Commas must have one space after them and none before. Unary operators (!, *, &amp;, - (ex: -1), + (ex: +1), ++, --) have no additional space on either side of the operator.</p>
<pre class="code">i = 2 + (j * 2) + -1 + k++;
<span class="k">if</span> (i == 0 || j &lt; 0 || !k) {
    arr[i] = i;
}
myObj.someFunction(i, j + 1);</pre>
    
<p>Add extra brackets in complex expressions, even if operator precedence will do what you want. The extra brackets increase readability and reduce errors.</p>
<pre class="code"><span class="k">if</span> ((!isReady &amp;&amp; isBooting)
    || (x &gt; 10)
    || (y == 0 &amp;&amp; z &lt; (x + 1)))
{
    ...
}</pre>
<p>However, it is often better to simplify complex expressions by breaking them into multiple sub-expressions that are easier to understand and maintain: </p>	
<pre class="code"><span class="k">boolean</span> isFinishedBooting = (isReady || !isBooting);
<span class="k">boolean</span> hasTimedOut = (x &gt; 10);
<span class="k">boolean</span> isOldFirmware = (y == 0 &amp;&amp; z &lt; (x + 1));
<span class="k">if</span> (!isFinishedBooting
    || hasTimedOut
    || isOldFirmware) 
{
    ...	
}</pre>
	
<h2>Classes</h2>
<p>Inside a class, the fields must be at the top of the class, followed by the methods.</p>
<pre class="code"><span class="k">class</span> Pizza {
    <span class="k">private</span> <span class="k">int</span> toppingCount;

    <span class="k">public</span> Pizza() {
        toppingCount = 0;
    }
    <span class="k">public int</span> getToppingCount() {
	    <span class="k">return</span> toppingCount;
    }
    ...
}

<span class="k">class</span> Topping {
    <span class="k">private</span> String name;
    ...
    <span class="k">public</span> String getName() {
        <span class="k">return</span> name;
    }
}</pre>


<h2>Comments</h2>
<p>Comments which are on one line should use the // style. Comments which are or a couple lines may use either the //, or /* ... */ style. Comments which are many lines long should use /* ... */.</p>

<p>Each class must have a descriptive comment before it describing the general purpose of the class. These comments should be in the JavaDoc format. Recommended format is shown below:</p>
<pre class="code"><span class="c">/**
 * Student class models the information about a 
 * university student. Data includes student number, 
 * name, and address. It supports reading in from a 
 * file, and writing out to a file.
 */</span>
<span class="k">class</span> Student {
    ...
}</pre>
    
<p>Each member function in a class may have a comment describing what it does. However, the name of the function, combined with an understanding of the class, should be enough to tell the user what it does.</p>
    
<p>Comments should almost always be the line before what they describe, and be placed at the same level of indentation as the code. Only very short comments may appear inline with the code:</p>
<pre class="code"><span class="c">// Display final confirmation message box.</span>
callSomeFunction(
        0,              <span class="c">// Parent.</span>
        "My App",       <span class="c">// Title</span>
        "test");        <span class="c">// Message</span></pre>
    
	
    

<h2>Comments vs Functions</h2>
<p>Your code should not need many comments. Generally, before writing a comment, consider how you can refactor your code to remove the need to "freshen" it up with a comment.</p>

<!--
Often, comments are used as follows:</p>
<pre class="code"><span class="k">int</span> main()
{
    <span class="c">// Open the file:</span>
    ifstream file;
    file.open("test.txt");
    <span class="k">if</span> (file.fail()) {
        cout << "Error opening file.\n";
        exit(EXIT_FAILURE);
    }
    
    <span class="c">// Write to file:</span>
    file << "Testing with\n";
    file << "many lines of data.\n";
    
    <span class="c">// Close file:</span>
    file.close;
    
    <span class="k">return</span> EXIT_SUCCESS;
}</pre>
<p>You should re-write this using quite short (3-5 line) functions (functions not shown here):</p>
<pre class="code"><span class="k">int</span> main()
{
    ifstream file = openInputFile();
    writeToFile(file);
    closeFile(file);
    
    <span class="k">return</span> EXIT_SUCCESS;
}</pre>

-->
    
<p>When you do write a comment, it must describe why something is done, not what it does:</p>
<pre class="code"><span class="c">// Cast to char to avoid runtime error for </span>
<span class="c">// international characters when running on Windows </span>
<span class="k">if</span> (isAlpha((<span class="k">char</span>)someLetter)) {
    ...
}</pre>



<h2>Other</h2>
<p>Either post-increment or pre-increment may be used on its own:</p>
<pre class="code">i++;
++j;</pre>

<p>Avoid using goto. When clear, design your loops to not require the use of "break" or "continue".</p>

<p>All switch statements should include a "default" label. If the "default" case seems impossible, place an "assert false;" in it. Comment any intentional fall-through's in switch statements:</p>
<pre class="code"><span class="k">switch</span>(buttonChoice) {
<span class="k">case</span> YES:
    <span class="c">// Fall through</span>
<span class="k">case</span> OK:
    System.out.println("It's all good.");
    <span class="k">break</span>;
<span class="k">case</span> CANCEL:
    System.out.println("It's over!");
    <span class="k">break</span>;
<span class="k">default</span>:
    <span class="k">assert false</span>;
}</pre>

<p>Use plenty of assertions. Any time you can use an assertion to check that some condition is true which "must" be true, you can catch a bug early in development. It is especially useful to verify function pre-conditions for input arguments or the object's state. Note that you must give the JVM the -ea argument (enable assertions) for it to correctly give an error message when an assertion fails.</p>

<p>Never let an assert have a side effect such as "assert i++ &gt; 1;". This may do what you expect during debugging, but when you build a release version, the asserts are removed. Therefore, the i++ won't happen in the release build.</p>




<!--
<h2>References:</h2>
<ol>
<li><a href="http://cm.bell-labs.com/cm/cs/cbook/">Kernighan and Ritchie's</a> "The C Programming Language", 1988.</li>
<li><a href="http://www.kernel.org/doc/Documentation/CodingStyle">Linux kernel coding style</a>.</li>
<li><a href="http://doc.qt.nokia.com/qtcreator-extending/coding-style.html">Qt-Creator coding style</a>.</li>
</ol>
-->
<!--?php include 'foot.html' ?-->
</body></html>